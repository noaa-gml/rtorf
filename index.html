<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>rtorf Tools for Observations, Receptors and Footprints • rtorf</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="rtorf Tools for Observations, Receptors and Footprints">
<meta name="description" content="Reads, process, and plots Observations such as the CH4 ObsPack GLOBALView+ data from NOAA and perform different filters and analyses.">
<meta property="og:description" content="Reads, process, and plots Observations such as the CH4 ObsPack GLOBALView+ data from NOAA and perform different filters and analyses.">
<meta property="og:image" content="https://noaa-gml.github.io/rtorf/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rtorf</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/aircore.html">aircore</a></li>
    <li><a class="dropdown-item" href="articles/aircraft-flask.html">aircraft-flask</a></li>
    <li><a class="dropdown-item" href="articles/aircraft-insitu.html">aircraft-insitu</a></li>
    <li><a class="dropdown-item" href="articles/aircraft-pfp.html">aircraft-pfp</a></li>
    <li><a class="dropdown-item" href="articles/hysplit.html">hysplit</a></li>
    <li><a class="dropdown-item" href="articles/shipboard-flask.html">shipboard-flask</a></li>
    <li><a class="dropdown-item" href="articles/shipoboard-insitu.html">shipboard-insitu</a></li>
    <li><a class="dropdown-item" href="articles/summary.html">summary</a></li>
    <li><a class="dropdown-item" href="articles/surface-flask.html">surface-flask</a></li>
    <li><a class="dropdown-item" href="articles/surface-insitu.html">surface-insitu</a></li>
    <li><a class="dropdown-item" href="articles/surface-pfp.html">surface-pfp</a></li>
    <li><a class="dropdown-item" href="articles/tower-insitu.html">tower-insitu</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/noaa-gml/rtorf/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="r-tools-for-observations-receptors-and-footprints-rtorf">R Tools for Observations, Receptors and Footprints (rtorf)<a class="anchor" aria-label="anchor" href="#r-tools-for-observations-receptors-and-footprints-rtorf"></a>
</h1>
</div>
<p><img src="reference/figures/logo.png" align="right" alt="" width="220"></p>
<p><img src="https://img.shields.io/github/commit-activity/y/noaa-gml/rtorf" alt="GitHub commit activity"><a href="https://github.com/noaa-gml/rtorf/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/noaa-gml/rtorf/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <img src="https://img.shields.io/github/stars/noaa-gml/rtorf" alt="GitHub Repo stars"></p>
<p><a href="https://gml.noaa.gov/ccgg/obspack/" class="external-link">NOAA Obspack</a> is a collection of greenhouse gases observations</p>
<p><code>rtorf</code> only depends on <code>data.table</code> and <code>ncdf4</code>, which is basically parallel C, so it can be installed in any machine.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Using git bash/powershell</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/noaa-gml/rtorf</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">R</span> CMD INSTALL rtorf</span></code></pre></div>
<p>Using remotes R package</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"noaa-gml/rtorf"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/noaa-gml/rtorf" class="external-link">rtorf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="obspack-summary">ObsPack summary<a class="anchor" aria-label="anchor" href="#obspack-summary"></a>
</h2>
<p>The first step consists in constructing a summary for ObsPack (CH4, CO2 or other). This is required to read the data, but also, identify <code>agl</code>, which is present in some of the file names. This function returns a <code>data.frame</code>. Optionally, the user can indicate a path to store the <code>data.frame</code>. <code>obs_summary</code> also prints a summary of the data. The second argument is the categories, and by default includes the categories shown below, to account for all the files. Then the summary <code>data.frame</code> contains the columns <code>id</code> as the full path to each file, <code>name</code> which is the name or relative path of the file, <code>n</code> just an id, <code>sector</code> such as tower, and the column <code>agl</code> which indicates the <code>agl</code> indicated in the name of the file if available. To read the documentation of this function, the user must run <code><a href="reference/obs_summary.html">?obs_summary</a></code>.</p>
<blockquote>
<p>We first define the categories</p>
</blockquote>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cate</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aircraft-pfp"</span>,</span>
<span>         <span class="st">"aircraft-insitu"</span>,</span>
<span>         <span class="st">"aircraft-flask"</span>,</span>
<span>         <span class="st">"surface-insitu"</span>,</span>
<span>         <span class="st">"surface-flask"</span>, </span>
<span>         <span class="st">"surface-pfp"</span>,   </span>
<span>         <span class="st">"tower-insitu"</span>,  </span>
<span>         <span class="st">"aircore"</span>,       </span>
<span>         <span class="st">"shipboard-insitu"</span>,</span>
<span>         <span class="st">"shipboard-flask"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="st">"Z:/obspack/obspack_ch4_1_GLOBALVIEWplus_v5.1_2023-03-08/data/nc/"</span></span>
<span><span class="va">index</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/obs_summary.html">obs_summary</a></span><span class="op">(</span>obs <span class="op">=</span> <span class="va">obs</span>, categories <span class="op">=</span> <span class="va">cate</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="do">## Number of files of index: 429</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="do">##               sector     N</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="do">##               &lt;char&gt; &lt;int&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="do">##  1:     aircraft-pfp    40</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="do">##  2:  aircraft-insitu    15</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="do">##  3:    surface-flask   106</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="do">##  4:   surface-insitu   174</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="do">##  5:   aircraft-flask     4</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="do">##  6:          aircore     1</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="do">##  7:      surface-pfp    33</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="do">##  8:     tower-insitu    51</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="do">##  9:  shipboard-flask     4</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="do">## 10: shipboard-insitu     1</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="do">## 11:    Total sectors   429</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="do">## Detected 190 files with agl</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="do">## Detected 239 files without agl</span></span></code></pre></div>
<p>For each one of these dataset ids, check the articles in the documentation</p>
<p><a href="https://noaa-gml.github.io/rtorf/" class="uri">https://noaa-gml.github.io/rtorf/</a></p>
<p>e.g. for the <code>aircraft-pfp</code> we can read <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">CO_2</annotation></semantics></math> and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><msub><mi>H</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">CH_4</annotation></semantics></math><a href="https://noaa-gml.github.io/rtorf/articles/aircraft-pfp.html">here</a></p>
</div>
<div class="section level2">
<h2 id="implementation-in-python">Implementation in python:<a class="anchor" aria-label="anchor" href="#implementation-in-python"></a>
</h2>
<p>I’m currently implementing a version in python <a href="https://github.com/noaa-gml/pytorf" class="external-link">pytorf</a>:</p>
</div>
<div class="section level2">
<h2 id="special-thanks-to-all-the">Special thanks to all the<a class="anchor" aria-label="anchor" href="#special-thanks-to-all-the"></a>
</h2>
<p><strong>contributors</strong></p>
<p><a href="https://github.com/noaa-gml/rtorf/graphs/contributors" class="external-link"><img src="https://contrib.rocks/image?repo=noaa-gml/rtorf" alt="Contributors"></a></p>
<p>and</p>
<p><strong>Stargazers</strong></p>
<p>
<a href="https://github.com/noaa-gml/rtorf/stargazers" class="external-link"> <img src="http://reporoster.com/stars/dark/noaa-gml/rtorf"></a>
</p>
<div class="section level3">
<h3 id="note-about-legacy-code">Note about legacy code.<a class="anchor" aria-label="anchor" href="#note-about-legacy-code"></a>
</h3>
<p>I received the task of reformat legacy code used to read PARTICLE.DAT and generate NetCDF. This code is really old and since STILT and other have permissive licenses, it is here, however, some code is not exported to NAMESPACE. A future version of rtorf, will have a new design for the legacy code, a modern and efficient approach, keeping the essential tasks.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/noaa-gml/rtorf/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/noaa-gml/rtorf/issues/" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rtorf</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sergio Ibarra-Espinosa <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3162-1905" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sergio Ibarra-Espinosa.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
